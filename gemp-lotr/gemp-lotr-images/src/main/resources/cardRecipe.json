{
  "width": 240,
  "height": 335,
  "functions": {
    "isNoun": {
      "type": "boolean",
      "function": {
        "type": "cardHasPropertyValueIn",
        "name": "type",
        "values": [
          "companion",
          "ally",
          "minion"
        ]
      }
    },
    "isVerb": {
      "type": "boolean",
      "function": {
        "type": "not",
        "condition": {
          "type": "cardHasPropertyValueIn",
          "name": "type",
          "values": [
            "companion",
            "ally",
            "minion"
          ]
        }
      }
    }
  },
  "layers": [
    {
      "comment": "Card background",
      "type": "image",
      "path": {
        "type": "resolve",
        "parent": {
          "type": "string",
          "value": {
            "type": "property",
            "name": "lotro.resources.folder"
          }
        },
        "child": {
          "type": "map",
          "key": {
            "type": "append",
            "values": [
              {
                "type": "cardProperty",
                "name": "culture"
              },
              {
                "type": "optional",
                "condition": {
                  "type": "function",
                  "name": "isNoun"
                },
                "value": "_noun"
              },
              {
                "type": "optional",
                "condition": {
                  "type": "function",
                  "name": "isVerb"
                },
                "value": "_verb"
              }
            ]
          },
          "map": {
            "dwarven_noun": "card_templates/o_dwarven_noun.png",
            "dwarven_verb": "card_templates/o_dwarven_verb.png"
          }
        }
      },
      "x": 0,
      "y": 0,
      "width": 240,
      "height": 335
    },
    {
      "comment": "Title noun",
      "type": "conditional",
      "condition": {
        "type": "function",
        "name": "isNoun"
      },
      "values": {
        "type": "text",
        "font": {
          "type": "ttf",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": "fonts/o_wap_matbolsmallcap.ttf"
          },
          "size": 13,
          "style": 0
        },
        "text": {
          "type": "replace",
          "source": {
            "type": "cardProperty",
            "name": "title"
          },
          "match": "*",
          "with": "•"
        },
        "box": {
          "type": "box",
          "x": 48,
          "y": 16,
          "width": 192,
          "height": 24
        }
      }
    },
    {
      "comment": "Title verb",
      "type": "conditional",
      "condition": {
        "type": "function",
        "name": "isVerb"
      },
      "values": {
        "type": "rotate",
        "angle": -90,
        "x": {
          "type": "conditional",
          "condition": {
            "type": "cardHasProperty",
            "name": "subtitle"
          },
          "true": 16,
          "false": 21
        },
        "y": 180,
        "layer": {
          "type": "text",
          "font": {
            "type": "ttf",
            "path": {
              "type": "resolve",
              "parent": {
                "type": "string",
                "value": {
                  "type": "property",
                  "name": "lotro.resources.folder"
                }
              },
              "child": "fonts/o_wap_matbolsmallcap.ttf"
            },
            "size": 13,
            "style": 0
          },
          "text": {
            "type": "replace",
            "source": {
              "type": "cardProperty",
              "name": "title"
            },
            "match": "*",
            "with": "•"
          },
          "box": {
            "type": "box",
            "x": {
              "type": "conditional",
              "condition": {
                "type": "cardHasProperty",
                "name": "subtitle"
              },
              "true": 16,
              "false": 21
            },
            "y": 180,
            "width": 127,
            "height": 24,
            "horAlign": "right"
          }
        }
      }
    },
    {
      "comment": "Subtitle noun",
      "type": "conditional",
      "condition": {
        "type": "function",
        "name": "isNoun"
      },
      "values": {
        "type": "text",
        "font": {
          "type": "ttf",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": "fonts/o_wap_matbolsmallcap.ttf"
          },
          "size": 12,
          "style": 0
        },
        "text": {
          "type": "cardProperty",
          "name": "subtitle"
        },
        "box": {
          "type": "box",
          "x": 48,
          "y": 30,
          "width": 192,
          "height": 24
        }
      }
    },
    {
      "comment": "Subtitle verb",
      "type": "conditional",
      "condition": {
        "type": "function",
        "name": "isVerb"
      },
      "values": {
        "type": "rotate",
        "angle": -90,
        "x": 26,
        "y": 180,
        "layer": {
          "type": "text",
          "font": {
            "type": "ttf",
            "path": {
              "type": "resolve",
              "parent": {
                "type": "string",
                "value": {
                  "type": "property",
                  "name": "lotro.resources.folder"
                }
              },
              "child": "fonts/o_wap_matbolsmallcap.ttf"
            },
            "size": 12,
            "style": 0
          },
          "text": {
            "type": "cardProperty",
            "name": "subtitle"
          },
          "box": {
            "type": "box",
            "x": 26,
            "y": 180,
            "width": 127,
            "height": 24,
            "horAlign": "right"
          }
        }
      }
    },
    {
      "comment": "Cost",
      "type": "text",
      "paint": "white",
      "font": {
        "type": "ttf",
        "path": {
          "type": "resolve",
          "parent": {
            "type": "string",
            "value": {
              "type": "property",
              "name": "lotro.resources.folder"
            }
          },
          "child": "fonts/o_wap_matbolsmallcap.ttf"
        },
        "size": 22,
        "style": 0
      },
      "text": {
        "type": "cardProperty",
        "name": "cost"
      },
      "box": {
        "type": "box",
        "x": 13,
        "y": 19,
        "width": 30,
        "height": 30,
        "horAlign": "center"
      }
    },
    {
      "comment": "Type line noun",
      "type": "conditional",
      "condition": {
        "type": "function",
        "name": "isNoun"
      },
      "values": {
        "type": "text",
        "font": {
          "type": "ttf",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": "fonts/o_wap_matbolsmallcap.ttf"
          },
          "size": 13,
          "style": 0
        },
        "text": {
          "type": "append",
          "values": [
            {
              "comment": "Card type",
              "type": "capitalize",
              "value": {
                "type": "cardProperty",
                "name": "type"
              }
            },
            {
              "comment": "Race",
              "type": "optional",
              "condition": {
                "type": "cardHasProperty",
                "name": "race"
              },
              "value": {
                "type": "append",
                "values": [
                  " • ",
                  {
                    "type": "capitalize",
                    "value": {
                      "type": "cardProperty",
                      "name": "race"
                    }
                  }
                ]
              }
            },
            {
              "comment": "Type keyword",
              "type": "optional",
              "condition": {
                "type": "cardHasPropertyValueIn",
                "name": "keyword",
                "values": [
                  "fellowship",
                  "shadow",
                  "maneuver",
                  "archery",
                  "assignment",
                  "skirmish",
                  "regroup",
                  "response",
                  "support area"
                ]
              },
              "value": {
                "type": "append",
                "values": [
                  " • ",
                  {
                    "type": "capitalize",
                    "value": {
                      "type": "cardPropertyValueIn",
                      "name": "keyword",
                      "values": [
                        "fellowship",
                        "shadow",
                        "maneuver",
                        "archery",
                        "assignment",
                        "skirmish",
                        "regroup",
                        "response",
                        "support area"
                      ]
                    }
                  }
                ]
              }
            }
          ]
        },
        "box": {
          "type": "box",
          "x": 0,
          "y": 197,
          "width": 240,
          "height": 30,
          "horAlign": "center"
        }
      }
    },
    {
      "comment": "Type line verb",
      "type": "conditional",
      "condition": {
        "type": "function",
        "name": "isVerb"
      },
      "values": {
        "type": "text",
        "font": {
          "type": "ttf",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": "fonts/o_wap_matbolsmallcap.ttf"
          },
          "size": 13,
          "style": 0
        },
        "text": {
          "type": "append",
          "values": [
            {
              "comment": "Card type",
              "type": "capitalize",
              "value": {
                "type": "cardProperty",
                "name": "type"
              }
            },
            {
              "comment": "Race",
              "type": "optional",
              "condition": {
                "type": "cardHasProperty",
                "name": "race"
              },
              "value": {
                "type": "append",
                "values": [
                  " • ",
                  {
                    "type": "capitalize",
                    "value": {
                      "type": "cardProperty",
                      "name": "race"
                    }
                  }
                ]
              }
            },
            {
              "comment": "Possession class",
              "type": "optional",
              "condition": {
                "type": "cardHasProperty",
                "name": "possession"
              },
              "value": {
                "type": "append",
                "values": [
                  " • ",
                  {
                    "type": "capitalize",
                    "value": {
                      "type": "cardProperty",
                      "name": "possession"
                    }
                  }
                ]
              }
            },
            {
              "comment": "Type keyword",
              "type": "optional",
              "condition": {
                "type": "cardHasPropertyValueIn",
                "name": "keyword",
                "values": [
                  "fellowship",
                  "shadow",
                  "maneuver",
                  "archery",
                  "assignment",
                  "skirmish",
                  "regroup",
                  "response",
                  "support area"
                ]
              },
              "value": {
                "type": "append",
                "values": [
                  " • ",
                  {
                    "type": "capitalize",
                    "value": {
                      "type": "cardPropertyValueIn",
                      "name": "keyword",
                      "values": [
                        "fellowship",
                        "shadow",
                        "maneuver",
                        "archery",
                        "assignment",
                        "skirmish",
                        "regroup",
                        "response",
                        "support area"
                      ]
                    }
                  }
                ]
              }
            }
          ]
        },
        "box": {
          "type": "box",
          "x": 18,
          "y": 197,
          "width": 240,
          "height": 30,
          "horAlign": "center"
        }
      }
    },
    {
      "comment": "Strength",
      "type": "conditional",
      "condition": {
        "type": "cardHasProperty",
        "name": "strength"
      },
      "values": [
        {
          "comment": "Strength icon",
          "type": "image",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": {
              "type": "map",
              "key": "dwarven_verb",
              "map": {
                "dwarven_verb": "card_images/o_icon_strength.png"
              }
            }
          },
          "x": 11,
          "y": 205,
          "width": 38,
          "height": 57
        },
        {
          "comment": "Strength text",
          "type": "text",
          "paint": "white",
          "font": {
            "type": "ttf",
            "path": {
              "type": "resolve",
              "parent": {
                "type": "string",
                "value": {
                  "type": "property",
                  "name": "lotro.resources.folder"
                }
              },
              "child": "fonts/o_wap_matbolsmallcap.ttf"
            },
            "size": 22,
            "style": 0
          },
          "text": {
            "type": "append",
            "values": [
              {
                "type": "optional",
                "condition": {
                  "type": "cardHasProperty",
                  "name": "target"
                },
                "value": {
                  "type": "optional",
                  "condition": {
                    "type": "cardPropertyGreaterThanZero",
                    "name": "strength"
                  },
                  "value": "+"
                }
              },
              {
                "type": "cardProperty",
                "name": "strength"
              }
            ]
          },
          "box": {
            "type": "box",
            "x": 10,
            "y": 220,
            "width": 38,
            "height": 30,
            "horAlign": "center"
          }
        }
      ]
    },
    {
      "comment": "Vitality",
      "type": "conditional",
      "condition": {
        "type": "cardHasProperty",
        "name": "vitality"
      },
      "values": [
        {
          "comment": "Vitality icon",
          "type": "image",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": {
              "type": "map",
              "key": "dwarven_verb",
              "map": {
                "dwarven_verb": "card_images/o_icon_vitality.png"
              }
            }
          },
          "x": 9,
          "y": 250,
          "width": 40,
          "height": 39
        },
        {
          "comment": "Vitality text",
          "type": "text",
          "paint": "white",
          "font": {
            "type": "ttf",
            "path": {
              "type": "resolve",
              "parent": {
                "type": "string",
                "value": {
                  "type": "property",
                  "name": "lotro.resources.folder"
                }
              },
              "child": "fonts/o_wap_matbolsmallcap.ttf"
            },
            "size": 22,
            "style": 0
          },
          "text": {
            "type": "append",
            "values": [
              {
                "type": "optional",
                "condition": {
                  "type": "cardHasProperty",
                  "name": "target"
                },
                "value": {
                  "type": "optional",
                  "condition": {
                    "type": "cardPropertyGreaterThanZero",
                    "name": "vitality"
                  },
                  "value": "+"
                }
              },
              {
                "type": "cardProperty",
                "name": "vitality"
              }
            ]
          },
          "box": {
            "type": "box",
            "x": 9,
            "y": 258,
            "width": 40,
            "height": 30,
            "horAlign": "center"
          }
        }
      ]
    },
    {
      "comment": "Resistance",
      "type": "conditional",
      "condition": {
        "type": "cardHasProperty",
        "name": "resistance"
      },
      "values": [
        {
          "comment": "Resistance icon",
          "type": "image",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": {
              "type": "map",
              "key": "dwarven_verb",
              "map": {
                "dwarven_verb": "card_images/o_icon_resistance.png"
              }
            }
          },
          "x": 10,
          "y": 283,
          "width": 40,
          "height": 40
        },
        {
          "comment": "Resistance text",
          "type": "text",
          "paint": "white",
          "font": {
            "type": "ttf",
            "path": {
              "type": "resolve",
              "parent": {
                "type": "string",
                "value": {
                  "type": "property",
                  "name": "lotro.resources.folder"
                }
              },
              "child": "fonts/o_wap_matbolsmallcap.ttf"
            },
            "size": 22,
            "style": 0
          },
          "text": {
            "type": "append",
            "values": [
              {
                "type": "optional",
                "condition": {
                  "type": "cardHasProperty",
                  "name": "target"
                },
                "value": {
                  "type": "optional",
                  "condition": {
                    "type": "cardPropertyGreaterThanZero",
                    "name": "resistance"
                  },
                  "value": "+"
                }
              },
              {
                "type": "cardProperty",
                "name": "resistance"
              }
            ]
          },
          "box": {
            "type": "box",
            "x": 10,
            "y": 292,
            "width": 40,
            "height": 30,
            "horAlign": "center"
          }
        }
      ]
    },
    {
      "comment": "Card text",
      "type": "textBox",
      "text": {
        "type": "cardProperty",
        "name": "text"
      },
      "font": {
        "default": {
          "type": "ttf",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": "fonts/o_lotrrg__.ttf"
          },
          "size": 9,
          "style": 0
        },
        "glyph": {
          "type": "ttf",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": "LOTRSymbols.ttf"
          },
          "size": 8,
          "style": 0
        },
        "keyword": {
          "type": "ttf",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": "fonts/o_lotrb___.ttf"
          },
          "size": 9,
          "style": 0
        },
        "uKeyword": {
          "type": "ttf",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": "fonts/o_lotrb___.ttf"
          },
          "size": 9,
          "style": 0
        },
        "quote": {
          "type": "ttf",
          "path": {
            "type": "resolve",
            "parent": {
              "type": "string",
              "value": {
                "type": "property",
                "name": "lotro.resources.folder"
              }
            },
            "child": "fonts/o_lotr-cmt.ttf"
          },
          "size": 9,
          "style": 0
        }
      },
      "glyphs": {
        "shire": "#",
        "dwarven": "@"
      },
      "box": {
        "type": "box",
        "x": 55,
        "y": 216,
        "width": 168,
        "height": 95
      }
    }
  ]
}